# mako 通知守护进程配置文件
# 文件位置: ~/.config/mako/config 或 $XDG_CONFIG_HOME/mako/config
# 
# 配置格式: key=value
# 空行和以 # 开头的行会被忽略

###########################################
# 全局配置选项 (GLOBAL CONFIGURATION OPTIONS)
###########################################

# 历史记录中保留的过期通知最大数量
# 如果缓冲区满了，新过期的通知会替换最旧的
# 设置为 0 则禁用历史记录
max-history=50

# 通知排序方式
# 可按时间和/或优先级排序，+ 表示升序，- 表示降序
# 可用选项: +/-time, +/-priority
sort=-time

# 包含其他配置文件 (路径必须是绝对路径或以 ~/ 开头)
# include=/path/to/other/config

###########################################
# 绑定选项 (BINDING OPTIONS)
###########################################

# 鼠标左键点击时执行的操作
# 默认: invoke-default-action (调用默认操作)
on-button-left=invoke-default-action

# 鼠标中键点击时执行的操作
# 默认: none (无操作)
on-button-middle=dismiss

# 鼠标右键点击时执行的操作  
# 默认: dismiss (关闭通知)
on-button-right=dismiss-all

# 触屏设备触摸时执行的操作
# 默认: dismiss (关闭通知)
on-touch=dismiss

# 通知弹出时执行的操作
# 默认: none (无操作)
# 示例: 播放提示音
on-notify=exec mpv /usr/share/sounds/freedesktop/stereo/message.oga

###########################################
# 样式选项 (STYLE OPTIONS)  
###########################################

# 字体设置 (Pango 字体描述格式)
# 默认: monospace 10
font=JetBrainsMonoNL Nerd Font Mono 11

# 背景颜色 (格式: #RRGGBB 或 #RRGGBBAA)
# 默认: #285577FF
background-color=#2d3748

# 文字颜色
# 默认: #FFFFFFFF  
text-color=#ffffff

# 通知弹窗宽度 (像素)
# 默认: 300
width=350

# 通知弹窗最大高度 (像素)
# 文字较少的通知会自动缩小以适应内容
# 默认: 100
height=150

# 外边距 (应用于整个通知列表外侧)
# 默认: 0
outer-margin=10

# 内边距 (应用于每个单独的通知)
# 会与 outer-margin 叠加，首末通知使用两个边距之和
# 默认: 10
margin=5

# 内容填充 (通知内容与边框的距离)
# 默认: 5
padding=15

# 边框宽度 (像素)
# 默认: 2
border-size=2

# 边框颜色
# 默认: #4C7899FF
border-color=#4a5568

# 圆角半径 (可分别设置四个角)
# 默认: 0
border-radius=8

# 进度指示器颜色
# over: 绘制在背景色之上, source: 替换背景色 (适用于半透明通知)
# 默认: over #5588AAFF
progress-color=over #68d391

# 是否显示图标 (0=否, 1=是)
# 默认: 1
icons=1

# 图标最大尺寸 (像素)
# 默认: 64
max-icon-size=48

# 图标搜索路径 (冒号分隔)
# 当通知指定图标名称而非完整路径时搜索这些目录
# /usr/share/icons/hicolor 和 /usr/share/pixmaps 总是会被搜索
icon-path=/usr/share/icons/Papirus:/usr/share/icons/hicolor

# 图标相对于文字的位置
# 可选: left, right, top, bottom
# 默认: left
icon-location=left

# 图标圆角半径 (像素)
# 默认: 0
icon-border-radius=4

# 是否启用 Pango 标记 (0=否, 1=是)
# 启用后可在格式说明符和通知正文中使用 Pango 标记
# 默认: 1
markup=1

# 是否允许应用程序关联操作 (0=否, 1=是)
# 默认: 1
actions=1

# 是否启用历史记录 (0=否, 1=是)
# 启用后，超时的通知会保存到历史缓冲区而不是立即删除
# 默认: 1
history=1

# 通知格式字符串
# %a=应用名, %s=摘要, %b=正文, %g=组内通知数, %i=通知ID
# 默认: <b>%s</b>\n%b
# 分组时默认: (%g) <b>%s</b>\n%b
format=<b>%s</b>\n%b

# 文字对齐方式
# 可选: left, center, right
# 默认: left
text-alignment=left

# 默认超时时间 (毫秒)
# 设置为 0 则禁用超时
# 默认: 0
default-timeout=5000

# 是否忽略应用程序发送的超时时间 (0=否, 1=是)
# 启用后使用 default-timeout 设置的时间
# 默认: 0
ignore-timeout=0

# 分组依据 (逗号分隔的条件字段列表)
# 具有相同条件的通知会组成一组
# 默认: none
group-by=app-name

# 最大可见通知数量
# 较旧的通知会被隐藏，设置为 -1 则显示所有通知
# 默认: 5
max-visible=8

# 显示通知的输出设备名称
# 为空则在当前聚焦的输出上显示
# 默认: ""
output=

# 通知层级 (相对于普通窗口)
# 可选: background, bottom, top, overlay
# overlay 会在全屏窗口之上显示通知
# 默认: top
layer=top

# 通知在输出设备上的位置
# 可选: top-right, top-center, top-left, bottom-right, 
#       bottom-center, bottom-left, center-right, center-left, center
# 默认: top-right
anchor=top-right

###########################################
# 条件样式配置 (CRITERIA)
###########################################

# 紧急通知的特殊样式
[urgency=critical]
border-color=#e53e3e
background-color=#742a2a
text-color=#ffffff
border-size=3
default-timeout=0

# 低优先级通知的样式
[urgency=low]  
background-color=#4a5568
border-color=#718096
default-timeout=3000

# 特定应用程序的样式配置

# Firefox 浏览器通知
[app-name=firefox]
border-color=#ff7800
icon-path=/usr/share/icons/hicolor

# 系统通知
[app-name="notify-send"]
border-color=#38b2ac
format=<b>系统通知</b>\n%b

# 音乐播放器通知
[app-name=music]
border-color=#9f7aea
default-timeout=2000

# 邮件通知
[category=email]
border-color=#3182ce
on-button-left=invoke-action reply
default-timeout=0

# 聊天应用通知
[category=im]
border-color=#38a169
format=<b>%s</b> 💬\n%b

# 包含 "错误" 或 "失败" 的通知
[summary~=".*(错误|失败|Error|Failed).*"]
[urgency=critical]
border-color=#e53e3e
background-color=#742a2a

# 分组通知的样式
[grouped=true]
format=<b>%s</b> (%g)\n%b

# 分组中的第一个通知
[group-index=0]
border-size=3

# 隐藏的通知占位符样式
[hidden=true]
format=%h 条通知被隐藏
text-color=#a0aec0
background-color=#2d3748

###########################################
# 模式配置 (MODES)
###########################################

# 勿扰模式 - 隐藏所有通知
# 使用 "makoctl mode -a do-not-disturb" 启用
# 使用 "makoctl mode -r do-not-disturb" 禁用
[mode=do-not-disturb]
invisible=1

# 游戏模式 - 只显示紧急通知
[mode=gaming]
invisible=1

[mode=gaming urgency=critical]
invisible=0
anchor=bottom-center
default-timeout=3000

# 工作模式 - 简化样式，快速消失
[mode=work]
format=%s: %b
default-timeout=2000
border-size=1
margin=2
padding=8
